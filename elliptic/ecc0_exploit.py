from sage.all import *

from utils import sum, double


if __name__ == '__main__':
	P = [8045, 6936]
	p = 9739
	E	= lambda x, y: y**2 % p == (x**3 + 497*x + 1768) % p
	# derivate(x,y) = [x,y]
	dE	= lambda x, y: [2*y % p, (3*x**2 + 497) % p]

	Q = [P[0], P[1]]
	try:
		for i in range(p):
			print(Q, i)
			Q = sum(Q, P, p, dE)
			if sum(Q, P, p, dE) == [0, 0]:
				print(Q, i)
				break
	except e:
		print(Q)

